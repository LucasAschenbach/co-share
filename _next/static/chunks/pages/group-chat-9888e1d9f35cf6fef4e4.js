(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[452],{6471:function(e,a,t){"use strict";t.r(a),t.d(a,{GroupChatExamplePage:function(){return D},default:function(){return O}});var n=t(4246),s=t(7378),o=t(8077),p=t(18),c=t(6610),r=t(5991),m=t(3349),k=t(5255),N=t(6089),l=t(7608),u=t(6156),d=t(3128),i=t(9148),y=t(4586),f=t(6974),g=t(697);function w(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=(0,l.Z)(e);if(a){var s=(0,l.Z)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,N.Z)(this,t)}}var h=function(e){(0,k.Z)(t,e);var a=w(t);function t(e){var n;return(0,c.Z)(this,t),n=a.call(this),(0,u.Z)((0,m.Z)(n),"subscriber",d.Subscriber.create(t,(function(e,a){return a(n.state.getState().groups)}))),(0,u.Z)((0,m.Z)(n),"state",void 0),(0,u.Z)((0,m.Z)(n),"createGroup",d.Request.create((0,m.Z)(n),"createGroup",(function(e,a){if(null!=e){var t=(0,y.Z)(),s=new b([],void 0);return n.addChildStore(s,!1,t),n.addGroup(t,a),n.addGroup.publishTo({to:"all-except-one",except:e},t,a),(0,f.of)(t)}return n.createGroup.publishTo(n.links[0],a).pipe((0,g.b)((function(e){return n.addGroup(e,a)})))}))),(0,u.Z)((0,m.Z)(n),"addGroup",d.Action.create((0,m.Z)(n),"addGroup",(function(e,a,t){n.state.setState({groups:[].concat((0,p.Z)(n.state.getState().groups),[{id:a,name:t}])})}))),(0,u.Z)((0,m.Z)(n),"deleteGroup",d.Action.create((0,m.Z)(n),"deleteGroup",(function(e,a){n.state.setState({groups:n.state.getState().groups.filter((function(e){return e.id!==a}))});var t=n.childStoreMap.get(a);null!=e&&null!=t&&(t.close(),n.removeChildStore(a)),n.deleteGroup.publishTo(null==e?{to:"all"}:{to:"all-except-one",except:e},a)}))),(0,u.Z)((0,m.Z)(n),"editGroup",d.Action.create((0,m.Z)(n),"editGroup",(function(e,a,t){n.state.setState({groups:n.state.getState().groups.map((function(e){return e.id===a?{id:a,name:t}:e}))}),n.editGroup.publishTo(null==e?{to:"all"}:{to:"all-except-one",except:e},a,t)}))),n.state=(0,i.Z)((function(){return{groups:e}})),n}return(0,r.Z)(t,[{key:"onUnlink",value:function(e){}},{key:"onLink",value:function(e){}}]),t}(d.Store),b=function(e){(0,k.Z)(t,e);var a=w(t);function t(e,n){var s;return(0,c.Z)(this,t),(s=a.call(this)).ownId=n,(0,u.Z)((0,m.Z)(s),"subscriber",d.Subscriber.create(t,(function(e,a){return a(s.state.getState().messages,e.userData.id)}))),(0,u.Z)((0,m.Z)(s),"state",void 0),(0,u.Z)((0,m.Z)(s),"sendMessage",d.Action.create((0,m.Z)(s),"sendMessage",(function(e,a){null==e?null!=s.ownId&&(s.addMessage(s.ownId,a),s.sendMessage.publishTo({to:"all"},a)):s.publishMessage.forwardFrom(e,e.connection.userData.id,a)}))),(0,u.Z)((0,m.Z)(s),"publishMessage",d.Action.create((0,m.Z)(s),"publishMessage",(function(e,a,t){s.addMessage(a,t),s.publishMessage.publishTo(null==e?{to:"all"}:{to:"all-except-one",except:e},a,t)}))),s.state=(0,i.Z)((function(){return{messages:e}})),s}return(0,r.Z)(t,[{key:"addMessage",value:function(e,a){this.state.setState({messages:[].concat((0,p.Z)(this.state.getState().messages),[{sender:e,text:a}])})}},{key:"onUnlink",value:function(e){}},{key:"onLink",value:function(e){}}]),t}(d.Store),x=t(4671),S=t(7982),v=t(1655),G=t(7375),j=t(3905);function C(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Z(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?C(Object(t),!0).forEach((function(a){(0,u.Z)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var M={};function I(e){var a=e.components,t=(0,G.Z)(e,["components"]);return(0,j.kt)("wrapper",Z(Z(Z({},M),t),{},{components:a,mdxType:"MDXLayout"}),(0,j.kt)("h1",null,"Group Chat Example"),(0,j.kt)("p",null,"Let's see how it works ..."),(0,j.kt)("pre",Z({},{className:"language-typescript"}),(0,j.kt)("code",Z({parentName:"pre"},{className:"language-typescript"}),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword module"}),"export")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"type")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token class-name"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token maybe-class-name"}),"Group"))," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," id",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),";")," name",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword module"}),"export")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"class")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token class-name"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token maybe-class-name"}),"GroupChatListStore"))," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"extends")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token class-name"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token maybe-class-name"}),"Store"))," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," subscriber",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Subscriber")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Subscriber"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"GroupChatListStore"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"connection",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," accept",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"accept"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"getState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"groups"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," state",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"StoreApi"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," groups",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token known-class-name class-name"}),"Array"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Group"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"constructor"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"groups",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token known-class-name class-name"}),"Array"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Group"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"super"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," groups ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," createGroup",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Request"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),"name",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Request"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"createGroup"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," name",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"if")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"!=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," id ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"uuid"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," groupStore ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"new")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token class-name"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token maybe-class-name"}),"GroupChatStore")),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword nil"}),"undefined"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"addChildStore"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"groupStore",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token boolean"}),"false"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"addGroup"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," name",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"addGroup"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"publishTo"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," to",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"all-except-one"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," except",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," origin ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," name",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"return")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"of"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"else")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"return")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"createGroup"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"publishTo"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"links"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"0"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," name",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"pipe"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"tap"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"addGroup"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," name",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"private")," addGroup ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Action"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"addGroup"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," id",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," name",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"setState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n            groups",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),(0,j.kt)("span",Z({parentName:"code"},{className:"token spread operator"}),"..."),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"getState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"groups"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," name ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," deleteGroup ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Action"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"deleteGroup"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," id",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"setState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n            groups",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"getState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"groups"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"filter"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"id")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"!==")," id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," store ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"childStoreMap"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"get"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"if")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"!=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"&&")," store ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"!=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n            store",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"close"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"removeChildStore"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"deleteGroup"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"publishTo"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"==")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"?")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," to",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"all"')," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," to",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"all-except-one"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," except",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," origin ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," editGroup ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Action"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"editGroup"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," id",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," name",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"setState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n            groups",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"getState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"groups"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"map"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"id")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"===")," id ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"?")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," name ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"editGroup"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"publishTo"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"==")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"?")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," to",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"all"')," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," to",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"all-except-one"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," except",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," origin ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," id",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," name",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"onUnlink"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"link",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"StoreLink"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"void")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"onLink"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"link",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"StoreLink"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"void")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword module"}),"export")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"type")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token class-name"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token maybe-class-name"}),"Message"))," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n    sender",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),"\n    text",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),"\n",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword module"}),"export")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"class")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token class-name"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token maybe-class-name"}),"GroupChatStore"))," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"extends")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token class-name"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token maybe-class-name"}),"Store"))," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," subscriber",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Subscriber")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Subscriber"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"GroupChatStore"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"connection",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," accept",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"accept"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"getState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"messages"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," connection",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"userData"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"id"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," state",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"StoreApi"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," messages",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token known-class-name class-name"}),"Array"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Message"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"constructor"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"messages",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token known-class-name class-name"}),"Array"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Message"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"private")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"readonly")," ownId",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"|")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword nil"}),"undefined"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"super"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," messages ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," sendMessage ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Action"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"sendMessage"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," text",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"if")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"==")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"if")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"ownId")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"!=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"addMessage"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"ownId"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," text",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"sendMessage"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"publishTo"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," to",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"all"')," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," text",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"else")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"publishMessage"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"forwardFrom"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," origin",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"connection"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"userData"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"id"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," text",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"private")," publishMessage ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Action"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"publishMessage"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"origin",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," sender",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," text",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"addMessage"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"sender",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," text",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"publishMessage"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"publishTo"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"\n            origin ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"==")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"?")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," to",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"all"')," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," to",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"all-except-one"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," except",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," origin ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n            sender",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n            text\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"private")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"addMessage"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"sender",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," text",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"setState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n            messages",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token spread operator"}),"..."),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"this"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"getState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"messages"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n                    sender",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n                    text",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"onUnlink"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"link",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"StoreLink"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"void")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"public")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"onLink"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"link",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"StoreLink"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"void")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),(0,j.kt)("pre",Z({},{className:"language-typescript"}),(0,j.kt)("code",Z({parentName:"pre"},{className:"language-typescript"}),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword module"}),"export")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"function")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token maybe-class-name"}),"GroupChatExamplePage")),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," rootStore ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," rootStore",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Store")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," store ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"useChildStore"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"rootStore",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," rootStore",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"links"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"0"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"GroupChatListStore"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"1000"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"group-chat-list"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),"selectedGroupId",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," setSelectedGroupId",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token generic-function"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token function"}),"useState"),(0,j.kt)("span",Z({parentName:"span"},{className:"token generic class-name"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"span"},{className:"token builtin"}),"string")," ",(0,j.kt)("span",Z({parentName:"span"},{className:"token operator"}),"|")," ",(0,j.kt)("span",Z({parentName:"span"},{className:"token keyword nil"}),"undefined"),(0,j.kt)("span",Z({parentName:"span"},{className:"token operator"}),">"))),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword nil"}),"undefined"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," inputRef ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token generic-function"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token function"}),"useRef"),(0,j.kt)("span",Z({parentName:"span"},{className:"token generic class-name"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"span"},{className:"token maybe-class-name"}),"HTMLInputElement"),(0,j.kt)("span",Z({parentName:"span"},{className:"token operator"}),">"))),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," useStoreState ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"useMemo"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"store",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),"store",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," groups ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"useStoreState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," groupId ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"useMemo"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>"),"\n            selectedGroupId ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"!=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"&&")," groups",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"find"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"id")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"===")," selectedGroupId",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"!=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"?")," selectedGroupId\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," groups",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"length")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"0"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"?")," groups",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"0"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"id"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword nil"}),"undefined"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),"groups",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," selectedGroupId",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"return")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"div\n            style",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n                display",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"flex"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n                flexDirection",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"row"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n                alignItems",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"stretch"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n                justifyContent",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"stretch"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n                flexGrow",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"1"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),","),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"div style",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," maxWidth",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"300"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," width",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"100%"')," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"h1",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Groups"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"h1",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"div className",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"input-group mb-3"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"input\n                        ref",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"inputRef",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n                        style",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," flexGrow",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"1")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n                        type",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"text"'),"\n                        className",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"form-control"'),"\n                        placeholder",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"Group Name"'),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"div className",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"input-group-append"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"button\n                            className",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"btn btn-outline-primary"'),"\n                            onClick",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n                                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"if")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"inputRef",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"current")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"!=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"&&")," inputRef",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"current"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"value"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"length")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"0"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n                                    store",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"createGroup"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"inputRef",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"current"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"value"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"subscribe"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n                                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n                            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n                            type",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"button"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Create"),"\n                        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"button",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"div",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"div",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"groups",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"map"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"div key",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"id"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," style",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," cursor",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"pointer"')," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," onClick",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"setSelectedGroupId"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"id"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"name"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n                        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"button className",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"btn btn-outline-danger"')," onClick",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," store",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"deleteGroup"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"group",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"id"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Delete"),"\n                        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"button",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"div",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"div",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"div style",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," flexGrow",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"1"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," display",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"flex"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," alignItems",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"stretch"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," justifyContent",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"stretch"')," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"groupId ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"==")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"?")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"div style",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," display",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"flex"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," alignItems",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"center"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," justifyContent",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"center"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," flexGrow",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"1")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Create")," a ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Group"),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"div",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"GroupChat")," groupId",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"groupId",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," store",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"store",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"div",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"div",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"function")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token maybe-class-name"}),"GroupChat")),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," store",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," groupId ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," groupId",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token builtin"}),"string"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),";")," store",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"GroupChatListStore")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," groupChatStore ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"useChildStore"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"store",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," store",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"links"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"0"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"GroupChatStore"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"1000"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," groupId",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," useStoreState ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"useMemo"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"create"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"groupChatStore",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"state"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"["),"store",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"]"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," inputRef ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token generic-function"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token function"}),"useRef"),(0,j.kt)("span",Z({parentName:"span"},{className:"token generic class-name"}),(0,j.kt)("span",Z({parentName:"span"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"span"},{className:"token maybe-class-name"}),"HTMLInputElement"),(0,j.kt)("span",Z({parentName:"span"},{className:"token operator"}),">"))),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword"}),"const")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," messages ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token function"}),"useStoreState"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"return")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"div style",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," display",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"flex"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," flexDirection",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"column"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," alignItems",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"stretch"')," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"messages",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"map"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"message",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),",")," index",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"p key",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"index",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"strong",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"message",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"sender"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"strong",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"message",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"text"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"p",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"div style",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," flexGrow",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"1")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"div",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"div className",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"input-group mb-3"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"input\n                    ref",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"inputRef",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n                    style",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{")," flexGrow",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),":")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"1")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n                    type",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"text"'),"\n                    className",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"form-control"'),"\n                    placeholder",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"Message"'),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"div className",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"input-group-append"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),"button\n                        className",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"btn btn-outline-primary"'),"\n                        onClick",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n                            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword control-flow"}),"if")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"inputRef",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"current")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"!=")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token keyword null nil"}),"null")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"&&")," inputRef",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"current"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"value"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"length")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token number"}),"0"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")")," ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"{"),"\n                                groupChatStore",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token method function property-access"}),"sendMessage"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"("),"inputRef",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"current"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"."),(0,j.kt)("span",Z({parentName:"code"},{className:"token property-access"}),"value"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n                            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n                        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n                        type",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"="),(0,j.kt)("span",Z({parentName:"code"},{className:"token string"}),'"button"'),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token maybe-class-name"}),"Send"),"\n                    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"button",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n                ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"div",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n            ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"div",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n        ",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"<"),(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),"/"),"div",(0,j.kt)("span",Z({parentName:"code"},{className:"token operator"}),">"),"\n    ",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),")"),"\n",(0,j.kt)("span",Z({parentName:"code"},{className:"token punctuation"}),"}"),"\n")))}I.isMDXComponent=!0;var R=t(9138);function O(){return(0,n.jsxs)("div",{className:"d-flex flex-column fullscreen",children:[(0,n.jsx)(v.h,{selectedIndex:3}),(0,n.jsxs)("div",{className:"d-flex flex-column justify-content-stretch container-lg",children:[(0,n.jsx)("div",{className:"d-flex flex-row-responsive",children:(0,n.jsx)(S.X,{twoClients:!0,initStore:function(e){return e.addChildStore(new h([]),!1,"group-chat-list")},children:function(e){return(0,n.jsx)(D,{rootStore:e})}})}),(0,n.jsx)("div",{className:"p-3 flex-basis-0 flex-grow-1",children:(0,n.jsx)(I,{})})]}),(0,n.jsx)(R.$,{})]})}function D(e){var a=e.rootStore,t=(0,o.useChildStore)(a,a.links[0],h,1e3,"group-chat-list"),p=(0,s.useState)(void 0),c=p[0],r=p[1],m=(0,s.useRef)(null),k=(0,s.useMemo)((function(){return(0,x.Z)(t.state)}),[t])().groups,N=(0,s.useMemo)((function(){return null!=c&&null!=k.find((function(e){return e.id===c}))?c:k.length>0?k[0].id:void 0}),[k,c]);return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"stretch",flexGrow:1},className:"p-3",children:[(0,n.jsxs)("div",{style:{maxWidth:300,width:"100%"},children:[(0,n.jsx)("h1",{children:"Groups"}),(0,n.jsxs)("div",{className:"input-group mb-3",children:[(0,n.jsx)("input",{ref:m,style:{flexGrow:1},type:"text",className:"form-control",placeholder:"Group Name"}),(0,n.jsx)("div",{className:"input-group-append",children:(0,n.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){null!=m.current&&m.current.value.length>0&&t.createGroup(m.current.value).subscribe()},type:"button",children:"Create"})})]}),k.map((function(e){return(0,n.jsxs)("div",{style:{cursor:"pointer"},onClick:function(){return r(e.id)},children:[e.name,(0,n.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return t.deleteGroup(e.id)},children:"Delete"})]},e.id)}))]}),(0,n.jsx)("div",{style:{flexGrow:1,display:"flex",alignItems:"stretch",justifyContent:"stretch"},children:null==N?(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1},children:"Create a Group"}):(0,n.jsx)(A,{groupId:N,store:t})})]})}function A(e){var a=e.store,t=e.groupId,p=(0,o.useChildStore)(a,a.links[0],b,1e3,t),c=(0,s.useMemo)((function(){return(0,x.Z)(p.state)}),[a]),r=(0,s.useRef)(null),m=c().messages;return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:[m.map((function(e,a){return(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:e.sender}),": ",e.text]},a)})),(0,n.jsx)("div",{style:{flexGrow:1}}),(0,n.jsxs)("div",{className:"input-group mb-3",children:[(0,n.jsx)("input",{ref:r,style:{flexGrow:1},type:"text",className:"form-control",placeholder:"Message"}),(0,n.jsx)("div",{className:"input-group-append",children:(0,n.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){null!=r.current&&r.current.value.length>0&&p.sendMessage(r.current.value)},type:"button",children:"Send"})})]})]})}},1234:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/group-chat",function(){return t(6471)}])},4671:function(e,a,t){"use strict";var n=t(7378);function s(e){let a;const t=new Set,n=(e,n)=>{const s="function"===typeof e?e(a):e;if(s!==a){const e=a;a=n?s:Object.assign({},a,s),t.forEach((t=>t(a,e)))}},s=()=>a,o={setState:n,getState:s,subscribe:(e,n,o)=>n||o?((e,n=s,o=Object.is)=>{let p=n(a);function c(){const t=n(a);if(!o(p,t)){const a=p;e(p=t,a)}}return t.add(c),()=>t.delete(c)})(e,n,o):(t.add(e),()=>t.delete(e)),destroy:()=>t.clear()};return a=e(n,s,o),o}const o="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?n.useEffect:n.useLayoutEffect;a.Z=function(e){const a="function"===typeof e?s(e):e,t=(e=a.getState,t=Object.is)=>{const[,s]=(0,n.useReducer)((e=>e+1),0),p=a.getState(),c=(0,n.useRef)(p),r=(0,n.useRef)(e),m=(0,n.useRef)(t),k=(0,n.useRef)(!1),N=(0,n.useRef)();let l;void 0===N.current&&(N.current=e(p));let u=!1;(c.current!==p||r.current!==e||m.current!==t||k.current)&&(l=e(p),u=!t(N.current,l)),o((()=>{u&&(N.current=l),c.current=p,r.current=e,m.current=t,k.current=!1}));const d=(0,n.useRef)(p);return o((()=>{const e=()=>{try{const e=a.getState(),t=r.current(e);m.current(N.current,t)||(c.current=e,N.current=t,s())}catch(e){k.current=!0,s()}},t=a.subscribe(e);return a.getState()!==d.current&&e(),t}),[]),u?l:N.current};return Object.assign(t,a),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[t,a];return{next(){const a=e.length<=0;return{value:e.shift(),done:a}}}},t}},9148:function(e,a){"use strict";a.Z=function(e){let a;const t=new Set,n=(e,n)=>{const s="function"===typeof e?e(a):e;if(s!==a){const e=a;a=n?s:Object.assign({},a,s),t.forEach((t=>t(a,e)))}},s=()=>a,o={setState:n,getState:s,subscribe:(e,n,o)=>n||o?((e,n=s,o=Object.is)=>{let p=n(a);function c(){const t=n(a);if(!o(p,t)){const a=p;e(p=t,a)}}return t.add(c),()=>t.delete(c)})(e,n,o):(t.add(e),()=>t.delete(e)),destroy:()=>t.clear()};return a=e(n,s,o),o}}},function(e){e.O(0,[345,839,774,888,179],(function(){return a=1234,e(e.s=a);var a}));var a=e.O();_N_E=a}]);